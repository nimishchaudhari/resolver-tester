name: Test SWE-Agent Resolver

on:
  issue_comment:
    types: [created]

permissions:
  issues: write
  contents: read

jobs:
  resolve_with_swe_agent:
    runs-on: ubuntu-latest
    if: github.event.comment.user.login != 'github-actions[bot]'
    steps:
      - name: Run SWE-Agent Resolver Action
        # Use your actual action repo and tag or branch
        uses: nimishchaudhari/SWE-agent-resolver@main
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          llm_api_key: ${{ secrets.OPENAI_API_KEY }}
          model_name: ${{ variables.SWE_AGENT_MODEL }}
          # trigger_phrase: '@swe-agent' # Optional
          # swe_agent_args: ''           # Optional
